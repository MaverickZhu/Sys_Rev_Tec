# 系统审查技术项目生产环境配置
# 注意：此文件包含敏感信息，不应提交到版本控制

# =============================================================================
# 应用程序配置
# =============================================================================

# 应用环境
ENVIRONMENT=production

# 应用名称
APP_NAME="系统审查技术"

# API版本
API_V1_STR=/api/v1

# 服务器配置
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# =============================================================================
# 安全配置 (生产环境必须修改)
# =============================================================================

# JWT密钥 - 必须使用强随机密钥
SECRET_KEY=CHANGE-THIS-TO-A-STRONG-RANDOM-SECRET-KEY-IN-PRODUCTION

# JWT算法
ALGORITHM=HS256

# Token过期时间 (分钟) - 生产环境建议较短
ACCESS_TOKEN_EXPIRE_MINUTES=15

# =============================================================================
# 数据库配置
# =============================================================================

# PostgreSQL数据库URL
DATABASE_URL=postgresql://sys_rev_user:CHANGE_PASSWORD@localhost:5432/sys_rev_tec_prod

# 数据库连接池配置
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# =============================================================================
# 文件存储配置
# =============================================================================

# 文件上传目录 - 生产环境建议使用绝对路径
UPLOAD_DIR=/var/app/uploads

# 最大文件大小 (MB)
MAX_FILE_SIZE=100

# 允许的文件类型
ALLOWED_FILE_TYPES=.txt,.pdf,.doc,.docx,.png,.jpg,.jpeg

# =============================================================================
# OCR配置
# =============================================================================

# OCR服务提供商
OCR_PROVIDER=azure

# OCR API密钥
OCR_API_KEY=YOUR_OCR_API_KEY_HERE

# OCR语言设置
OCR_LANGUAGE=chi_sim+eng

# OCR置信度阈值
OCR_CONFIDENCE_THRESHOLD=0.7

# =============================================================================
# 日志配置
# =============================================================================

# 日志级别
LOG_LEVEL=WARNING

# 日志文件路径
LOG_FILE=/var/log/sys_rev_tec/app.log

# 日志轮转大小 (MB)
LOG_MAX_SIZE=50

# 保留日志文件数量
LOG_BACKUP_COUNT=10

# =============================================================================
# Redis配置
# =============================================================================

# Redis连接URL
REDIS_URL=redis://localhost:6379/0

# 缓存过期时间 (秒)
CACHE_EXPIRE_TIME=7200

# =============================================================================
# CORS配置
# =============================================================================

# 允许的源域名 - 生产环境应限制为实际域名
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# 允许的HTTP方法
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# 允许的请求头
ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# 监控配置
# =============================================================================

# 启用Prometheus指标
ENABLE_METRICS=true

# 指标端点路径
METRICS_PATH=/metrics

# 健康检查端点
HEALTH_CHECK_PATH=/health

# =============================================================================
# 邮件配置
# =============================================================================

# SMTP服务器配置
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-email@your-domain.com
SMTP_PASSWORD=YOUR_EMAIL_PASSWORD
SMTP_TLS=true

# 发件人信息
EMAIL_FROM=noreply@your-domain.com
EMAIL_FROM_NAME="系统审查技术"

# =============================================================================
# AI集成配置
# =============================================================================

# OpenAI API配置
OPENAI_API_KEY=YOUR_OPENAI_API_KEY
OPENAI_MODEL=gpt-4

# 向量数据库配置
VECTOR_DB_URL=http://localhost:6333
VECTOR_COLLECTION_NAME=documents_prod

# =============================================================================
# 生产环境安全配置
# =============================================================================

# 禁用调试模式
DEBUG=false

# 禁用自动重载
RELOAD=false

# 隐藏错误详情
SHOW_ERROR_DETAILS=false

# 可选择性禁用API文档 (安全考虑)
ENABLE_DOCS=false

# =============================================================================
# 性能配置
# =============================================================================

# 工作进程数量 (建议为CPU核心数)
WORKERS=4

# 每个工作进程的线程数
THREADS=2

# 请求超时时间 (秒)
REQUEST_TIMEOUT=30

# 保持连接超时时间 (秒)
KEEP_ALIVE_TIMEOUT=5