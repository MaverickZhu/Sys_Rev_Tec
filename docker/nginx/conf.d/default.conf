# 基础 Nginx 配置 - 不依赖后端服务

server {
    listen 80;
    server_name localhost;
    
    # 根路径返回简单的状态页面
    location / {
        return 200 'System Review Technology - Basic Services Running\nDatabase: Available\nRedis: Available\nNginx: Available\n\nTo start the full application, please build and start the app and ocr-service containers.';
        add_header Content-Type text/plain;
    }
    
    # 健康检查端点
    location /health {
        access_log off;
        return 200 'OK';
        add_header Content-Type text/plain;
    }
    
    # 状态页面
    location /status {
        return 200 '{"status": "basic_services_running", "services": {"nginx": "running", "database": "running", "redis": "running", "app": "not_started", "ocr": "not_started"}}';
        add_header Content-Type application/json;
    }
    
    # 静态文件目录（如果存在）
    location /static/ {
        alias /var/www/static/;
        expires 1d;
        add_header Cache-Control "public";
        try_files $uri $uri/ =404;
    }
    
    # 错误页面
    error_page 404 /404.html;
    location = /404.html {
        return 404 'Page not found - Basic services only';
        add_header Content-Type text/plain;
    }
    
    error_page 500 502 503 504 /50x.html;
    location = /50x.html {
        return 500 'Server error - Basic services only';
        add_header Content-Type text/plain;
    }
}